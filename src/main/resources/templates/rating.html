<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <title>Sharing Economy</title>
    <!--/*/ <th:block th:include="fragments/header :: meta"></th:block> /*/-->
     <script th:src="@{/js/custom.js}"></script>
</head>
<body>
	<!--/*/ <th:block th:replace="fragments/header :: ${#authorization.expression('hasRole(''ROLE_USER'')')} ? accountHeader : header"></th:block> /*/-->
	<div class="container-fluid">    
	  		<div class="row">
	  			<div class="col-sm-2 text-left">
						<!--/*/ <th:block th:replace="fragments/other :: sidebar"></th:block> /*/-->
				</div>
	  			
	  			<div id="multiPart" class="col-sm-8">
	  				<div class="row">
	  					<div class="col-sm-12">
	  					
	  					
							<div class="well">
									<div class="row">
									
										<div class="col-sm-6">
								    	 	<img th:src="@{'/user/img/' + ${rating.onUser.id}}" class="img-circle center-block" style="max-height:220px">
								    	 
								    	</div>
								    	<div class="col-sm-6">
								    		<h1 th:text="${rating.onUser.userName}"></h1><br />
								    		
 								   	 	 	<span class="stars24" th:text="${rating.onUser.rating}"></span> 
 								   	 		<span th:text="${rating.onUser.rating} + ' aus ' + ${rating.onUser.ratingCount} +' Bewertungen'"></span>
 								    	</div>
 								    </div>
							</div>

		  					<div class="page-header">
	                    		<h1 th:text="#{rating.header}"><small th:text="${rating.onUser.ratingCount}"></small></h1>
	                  		</div> 
	                  		
<!-- 	                  		<div style="margin-buttom:15px;"> -->
<!-- 	                  			<form> -->
<!-- 	                  				<div class="media" style="margin-buttom:15px;"> -->
<!-- 	                  					<a class="media-left" href="#"> -->
<!-- 				                              <img src="http://lorempixel.com/40/40/people/1/"> -->
<!-- 				                         </a> -->
				                         
<!-- 				                         <div class="media-body"> -->
<!-- 			                                <input placeholder="Rate this user"></input> -->
					                          
<!-- 	                            		</div> -->
<!-- 	                  				</div> -->
<!-- 	                  			</form> -->
<!-- 	                  		</div> -->
	                  		
	                  		<div class="comments-list">
	                  			    <div class="media">
				                           
				                            <a class="media-left" th:href="@{'/user/'+${rating.fromUser.id}}">
				                              <img th:src="@{'/user/img/' + ${rating.fromUser.id}}" class="img-rounded" style="max-height:60px;">
				                            </a>
				                            
				                           
				                            
			                            	<div class="media-body">
			                            		<form th:action="@{'/user/'+${rating.onUser.id}+'/rating'}" method="post">
				                            		<div class="form-group form-group-lg">
				                            								    	 
													      <span class="starRating">
														        <input id="rating5" type="radio" th:field="${rating.stars}" value="5">
														        <label for="rating5">5</label>
														        <input id="rating4" type="radio" th:field="${rating.stars}" value="4">
														        <label for="rating4">4</label>
														        <input id="rating3" type="radio" th:field="${rating.stars}" value="3" checked>
														        <label for="rating3">3</label>
														        <input id="rating2" type="radio" th:field="${rating.stars}" value="2">
														        <label for="rating2">2</label>
														        <input id="rating1" type="radio" th:field="${rating.stars}" value="1">
														        <label for="rating1">1</label>
													      </span>
						
					                            		  		<button type="submit" class="btn btn-primary pull-right" th:text="#{rating.send}">Send</button>	
					                            		   		<textarea id="comment" th:field="${rating.comment}" class="form-control" placeholder="Leave a rating..." style="margin-top:10px;resize:none;"></textarea>
<!-- 					                            		  		<input type="hidden" th:field="${rating.onUser}" /> -->
<!--     															<input type="hidden" th:field="${rating.fromUser}" /> -->
														 		
				                            		</div>
			                            		</form>
			                            	</div>
			                         </div>
	                  				
			                       <div th:each="ratingItem : ${ratingList}" class="media">
				                           <p class="pull-right"><small class="time" th:text="${ratingItem.created}"></small></p>
				                            <a class="media-left" th:href="@{'/user/'+${ratingItem.fromUser.id}}">
				                              <img th:src="@{'/user/img/' + ${ratingItem.fromUser.id}}" class="img-rounded" style="max-height:60px;">
				                            </a>
				                            
				                            
			                            	<div class="media-body">
			                                
					                              <h4 class="media-heading" th:text="${ratingItem.fromUser.userName} +'s '+ #{rating.rating}"></h4>
					                              <span class="stars16" th:text="${ratingItem.stars}"></span>
					                              <span th:text="${ratingItem.comment}"></span>
				                              	 
				                              	 
	                            			</div>
	                          		</div>
                  			</div>
                  			<br />
	  					</div>
	  				</div>
	  			</div>
	  			
	  			<div id="addsPart" class="col-sm-2">
	  				
		  				<div class="well">
				        	<p>ADS</p>
				      	</div>
				   
					
		  				<div class="well">
				        	<p>ADS</p>
				      	</div>
				     
	  			</div>
	  			
	  		</div> <!-- closes row content -->	
	</div> <!-- closes container-fluid -->	
	
				   
	
	
		
</body>
	<script>
			$(function() {
			    $('span.stars16').stars16();
			    $('span.stars24').stars24();
			    $('small.time').timediff();
			});
	</script>
	<script type="text/javascript">
			$.fn.stars16 = function() {
			    return $(this).each(function() {
			        $(this).html($('<span />').width(Math.max(0, (Math.min(5, parseFloat($(this).html())))) * 16));
			    });
			}
			
			$.fn.stars24 = function() {
			    return $(this).each(function() {
			        $(this).html($('<span />').width(Math.max(0, (Math.min(5, parseFloat($(this).html())))) * 24));
			    });
			}
	</script>
	
	
</html>
